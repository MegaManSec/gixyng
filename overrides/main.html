{% extends "base.html" %}

{% block htmltitle %}
  {% if page %}
    {% if page.meta and page.meta.title and not page.is_homepage %}
      <title>{{ page.meta.title }} | {{ config.site_long_name }}</title>
    {% else %}
      <title>{{ config.site_long_name }}</title>
    {% endif %}
  {% else %}
    <title>Page Not Found | {{ config.site_long_name }}</title>
  {% endif %}
{% endblock %}

{% block extrahead %}
  {{ super() }}

  {% if page %}
  <script type="application/ld+json">
  {% if page.is_homepage %}
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "GixyNG",
    "alternateName": [
      "Gixy NGINX configuration checker",
      "Gixy NGINX security hardening scanner",
      "Gixy-ng NGINX config checker",
      "Gixy NGINX configuration hardener",
      "Gixy-ng NGINX configuration compliance checker"
    ],
    "operatingSystem": "Linux",
    "applicationCategory": "SecurityApplication",
    "description": "Open source NGINX security, hardening, and configuration compliance scanner that statically analyzes nginx.conf for security issues and misconfigurations.",
    "url": "{{ config.site_url }}",
    "downloadUrl": "https://pypi.org/project/GixyNG/",
    "softwareVersion": "0.2.x",
    "license": "https://www.mozilla.org/en-US/MPL/2.0/",
    "author": {
      "@type": "Person",
      "name": "Joshua Rogers",
      "url": "https://joshua.hu/",
      "sameAs": [
        "https://github.com/MegaManSec",
        "https://www.linkedin.com/in/joshua-alexander-rogers/"
      ]
    },
    "offers": {
      "@type": "Offer",
      "price": "0.00",
      "priceCurrency": "USD"
    }
  }
  {% else %}
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "headline": "{{ page.title }}",
    "description": "{% if page.meta and page.meta.description %}{{ page.meta.description }}{% else %}Documentation and security hardening guide for GixyNG / Gixy NGINX scanner.{% endif %}",
    "articleSection": "Documentation",
    "url": "{{ page.canonical_url }}",
    "author": {
      "@type": "Person",
      "name": "Joshua Rogers",
      "url": "https://joshua.hu/"
    },
    "isPartOf": {
      "@type": "WebSite",
      "name": "GixyNG",
      "url": "{{ config.site_url }}"
    }
  }
  {% endif %}
  </script>
  {% endif %}

  <meta property="og:type" content="website">

  {% if page %}
    {% if page.title and not page.is_homepage %}
      <meta property="og:title" content="{{ page.title }} | {{ config.site_name }}">
    {% else %}
      <meta property="og:title" content="GixyNG: NGINX Security Scanner & Configuration Checker">
    {% endif %}

    {% if page.canonical_url %}
      <meta property="og:url" content="{{ page.canonical_url }}">
    {% else %}
      <meta property="og:url" content="{{ config.site_url }}{{ page.url }}">
    {% endif %}

    {% if page.meta and page.meta.description %}
      <meta property="og:description" content="{{ page.meta.description }}">
    {% else %}
      <meta property="og:description" content="Open source NGINX security scanner and configuration checker for automating nginx.conf security audits and hardening against misconfigurations.">
    {% endif %}

  {% else %}
    <meta property="og:title" content="Page Not Found | {{ config.site_name }}">
    <meta property="og:description" content="The page you are looking for does not exist.">
  {% endif %}

  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="GixyNG" />
  <link rel="manifest" href="/site.webmanifest" />
  <link rel="icon" type="image/png" sizes="192x192" href="/web-app-manifest-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/web-app-manifest-512x512.png">

{% endblock %}
